#!/bin/sh

if [ "$#" -ne 1 ]; 
then 
    WORKDIR=`pwd`
else 
    WORKDIR=$1
fi

tmux new-session -d -s webdev_apihawk
 
tmux new-window -t webdev_apihawk:1 -n 'console'
tmux send-keys -t webdev_apihawk:1 "cd $WORKDIR" C-m

tmux new-window -t webdev_apihawk:2 -n 'mysql'
tmux send-keys -t webdev_apihawk:2 'mysql -u root; clear' C-m

tmux new-window -t webdev_apihawk:3 -n 'vim'
tmux send-keys -t webdev_apihawk:3 "cd $WORKDIR; vim" C-m
 
tmux new-window -t webdev_apihawk:4 -n 'search'
tmux send-keys -t webdev_apihawk:4 "cd $WORKDIR" C-m
 
tmux new-window -t webdev_apihawk:5 -n 'submodules'
tmux send-keys -t webdev_apihawk:5 "cd $WORKDIR" C-m
 
tmux new-window -t webdev_apihawk:6 -n 'crons'
tmux send-keys -t webdev_apihawk:6 "cd $WORKDIR" C-m
 
tmux new-window -t webdev_apihawk:7 -n 'gearman'
tmux send-keys -t webdev_apihawk:7 "cd $WORKDIR" C-m
 
tmux new-window -t webdev_apihawk:8 -n 'redis'
tmux send-keys -t webdev_apihawk:8 "cd $WORKDIR" C-m
 

tmux select-window -t webdev_apihawk:3
tmux -2 attach-session -t webdev_apihawk
